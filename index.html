<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Quick Rhino Viewer (fallback)</title>
  <style>body{margin:0;overflow:hidden}#err{position:fixed;left:10px;top:10px;background:#fee;padding:8px;border:1px solid #c00;display:none;z-index:100}</style>
</head>
<body>
  <div id="err"></div>

  <!-- legacy global scripts (quick fallback) -->
  <script src="https://unpkg.com/three@0.150.1/build/three.min.js"></script>
  <script src="https://unpkg.com/three@0.150.1/examples/js/loaders/GLTFLoader.js"></script>
  <script src="https://unpkg.com/three@0.150.1/examples/js/controls/OrbitControls.js"></script>

  <script>
    try {
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(60, innerWidth/innerHeight, 0.1, 1000);
      const renderer = new THREE.WebGLRenderer({antialias:true});
      renderer.setSize(innerWidth, innerHeight);
      document.body.appendChild(renderer.domElement);
      const controls = new THREE.OrbitControls(camera, renderer.domElement);
      camera.position.set(0,2,5);
      const light = new THREE.DirectionalLight(0xffffff,1); light.position.set(5,10,7); scene.add(light);
      scene.add(new THREE.AmbientLight(0x404040));
      const loader = new THREE.GLTFLoader();
      loader.load('model.glb', g => { scene.add(g.scene); animate(); }, null, e => { showErr('Could not load model.glb (404 or CORS)'); console.error(e); });
      function animate(){ requestAnimationFrame(animate); controls.update(); renderer.render(scene,camera); }
      addEventListener('resize', ()=>{ camera.aspect = innerWidth/innerHeight; camera.updateProjectionMatrix(); renderer.setSize(innerWidth,innerHeight); });
    } catch(err){
      showErr('Viewer initialization error: ' + err.message);
      console.error(err);
    }
    function showErr(m){ const e=document.getElementById('err'); e.innerText=m; e.style.display='block'; }
  </script>
</body>
</html>
